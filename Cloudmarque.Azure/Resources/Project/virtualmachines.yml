location: UK South
desiredConfigName:
service:
  dependencies:
    automation:
    keyvault:
    vnet:                                               # Optional, providing a keyvault will encrypt all vm disks
  publish:
    resourceGroup:
    vm:
    nic:

diskEncryptionKey:                                                                      
groups:
  - name:                                               # Leave blank to have the vm collection provision its own resource group
    service:
      publish:
        resourceGroup:
    virtualMachines:
      - name:
        size: Standard_B2ms
        updateGroup: critical
        updateFrequency: tuesday                     
        imageReference:
          publisher: MicrosoftWindowsDesktop
          offer: Windows-10
          sku: rs5-pro
          version: latest
          location: East US
        service:
          publish:
            vm:
            nic:
        osDisk:
          osType: Windows
          diskSizeGB: 127  
        dataDiskSizes: [10]                             # Memory size for subsequent data disks, number of sizes provided dictates the number of data disks.
        networking:
          service:
            dependencies:
              vnet:
          ipAddress:                                    # Leave blank for dynamic ip allocations
          subnetName: default                           # Subnet belonging to the virtual network
          
  #NOTE: To allow disk encryption for Linux, you need to have at least 8gb of ram available and the vm needs to be generation 1.
  #NOTE: Supported Linux distros for disk encryption are listed here https://docs.microsoft.com/en-us/azure/virtual-machines/linux/disk-encryption-overview#supported-vms-and-operating-systems        
  #NOTE: Supported Linux Distros for DSC are listed here https://docs.microsoft.com/en-us/azure/virtual-machines/extensions/dsc-linux
  #NOTE: The DSC extension for Linux and the Azure Monitor virtual machine extension for Linux currently present a conflict and aren't supported in a side-by-side configuration. Don't use the two solutions together on the same VM.
