name: coretestmonitor
location: UK South
advisorLowCPUThresholdPercentage: 5     # Can be set to 0, 5, 10, 15 or 20
service:
  publish:
    activityLogAlert: Core-Test-Monitor-Ala
    appInsights: Core-Test-Ai
    solution: Core-Test-Sol
    storage: Core-Test-Monitor-St
    workspace: Core-Test-Ws
    monitoringResourceGroup: Core-Test-Monitor-Rg
    actionGroup: Core-Test-Ag1
actionGroups:
- name: Core-Test-Ag1
  shortname: CTA1
  service:
    publish:
      actionGroup: Core-Test-Ag1
  armRoles:
  emails: 
  - emailAddress: testActionGroup1@Cloudmarque.com
  functions:
  itsm:
  logicApps:
  notifications:
  runbooks:
  sms:
  voice:
- name: Core-Test-Ag2
  shortname: CTA2
  service:
    publish:
      actionGroup: Core-Test-Ag2
  armRoles:
  emails:
  functions:
  - functionAppResourceId: Core-Test-Func-Res-Id
    httpTriggerUrl: https://cloudmarqueTest.com
    functionName: Core-Test-Func-Name
  itsm:
  logicApps:
  notifications:
  runbooks:
  sms:
  voice:
  webhooks:
- name: Core-Test-Ag3
  shortname: CTA3
  service:
    publish:
      actionGroup: Core-Test-Ag3
  armRoles:
  emails:
  functions:
  itsm:                      
  logicApps:
  notifications:
  runbooks:
  sms:
  voice:
  webhooks:
- name: Core-Test-Ag4
  shortname: CTA4
  service:
    publish:
      actionGroup: Core-Test-Ag4
  armRoles:
  emails:
  functions:
  itsm:
  logicApps:
  - resourceId: Core-Test-Logic-ResId
    callbackUrl: https://CoreTestLogicCbUrl
  notifications:
  runbooks:
  sms:
  voice:
  webhooks:
- name: Core-Test-Ag5
  shortname: CTA5
  service:
    publish:
      actionGroup: Core-Test-Ag5
  armRoles:
  emails:
  functions:
  itsm:
  logicApps:
  notifications:
  - emailAddress: testActionGroup2@Cloudmarque.com
  runbooks:
  sms:
  voice:
  webhooks:
- name: Core-Test-Ag6
  shortname: CTA6
  service:
    publish:
      actionGroup: Core-Test-Ag6
  armRoles:
  emails:
  functions:
  itsm:
  logicApps:
  notifications:
  runbooks:
  sms:
  voice:
  webhooks:
  - serviceUri: https://CoreTestWbSvUri

# ** EXAMPLE ACTION GROUP **
# - name: namevalue
#   shortname :                         Has to be less than 12 characters, used for sms and emails

# ** EXAMPLE RECEIVERS THAT CAN BE ADDED TO A ACTION GROUP **
# armRoles:
# - roleId:

# emails:
# - emailAddress:

# functions:
# - functionAppResourceId:
#   httpTriggerUrl:                     The url used to trigger the function through http requests
#   functionName:

# itsm:
# - connectionId:                       Unique id of ITSM connection in workspace
#   ticketConfiguration:                JSON specifying the ITSM action configuration
#   workspaceId:                        Log analytics workspace
#   region:                             Central India, Japan East, South East Asia, Australia South East, UK South, West Central US, Canada Central, East US, West Europe

# logicApps:
# - resourceId:
#   callbackUrl:                        Callback url used to trigger the logic app through http requests

# notifications:
# - emailAddress:

# runbooks:
# - automationAccountId:
#   runbookName:
#   serviceUri:                         Webhook service uri
#   webhookResourceId:
#   isGlobalRunbook:

# sms:
# - phoneNumber:
#   countryCode:

# voice:
# - phoneNumber:
#   countryCode:

# webhooks:
#   serviceUri:
